<form class="grid gap-3" [formGroup]="txForm" (ngSubmit)="save()">
  <p-floatlabel variant="in">
    @let isAmountInvalid = txForm.controls.amount.touched && txForm.controls.amount.dirty;

    <p-inputnumber id="amount" autocomplete="off" class="w-full" [formControl]="txForm.controls.amount" />
    <label for="amount">Amount (z≈Ç)</label>
  </p-floatlabel>
  @if (isAmountInvalid) {
    @if (txForm.controls.amount.hasError('required')) {
      <p-message severity="error" size="small" variant="simple">Amount is required</p-message>
    }
  }

  <div class="flex-grow">
    @let isTypeInvalid = txForm.controls.type.touched && txForm.controls.type.dirty;
    <p-select
      class="w-full"
      optionValue="value"
      optionLabel="label"
      [options]="transactionTypes"
      [formControl]="txForm.controls.type"
      placeholder="Select transaction type" />
  </div>
  @if (isTypeInvalid) {
    @if (txForm.controls.type.hasError('required')) {
      <p-message severity="error" size="small" variant="simple">Amount is required</p-message>
    }
  }

  <p-floatlabel variant="in">
    <textarea
      pTextarea
      rows="5"
      cols="30"
      class="w-full"
      id="description"
      style="resize: none"
      [formControl]="txForm.controls.description"></textarea>
    <label for="description">Description</label>
  </p-floatlabel>

  <p-button label="Save" class="wide" [loading]="isProcessing()" (onClick)="save()" />
</form>
