<div class="p-3">
  <p-toolbar>
    <ng-template #start>
      @if (isOverMdBreakpoint()) {
        <a pButton severity="secondary" [text]="true" [routerLink]="[Path.DASHBOARD]">
          <img src="asset/icon/app-logo.svg" alt="echo-logo" class="w-6" />
          Echo
        </a>

        <div class="flex gap-3">
          @for (link of links; track $index) {
            <a pButton severity="secondary" routerLinkActive="link-active" [text]="true" [routerLink]="link.routerLink">{{ link.label }}</a>
          }
        </div>
      } @else {
        <button pButton severity="secondary" [icon]="PrimeIcons.BARS" [text]="true" (click)="drawerVisible = !drawerVisible">Echo</button>
      }
    </ng-template>

    <ng-template #end>
      <div class="flex gap-4">
        <echo-theme-buttons />
        <p-button pTooltip="Logout" tooltipPosition="bottom" severity="secondary" [icon]="PrimeIcons.SIGN_OUT" (click)="logout($event)" />
      </div>
    </ng-template>
  </p-toolbar>
</div>

<!-- Mobile drawer -->
@if (!isOverMdBreakpoint()) {
  <p-drawer [(visible)]="drawerVisible" header="Echo">
    <div class="grid gap-3">
      @for (link of links; track $index) {
        <a routerLinkActive="link-active" class="text-lg" [routerLink]="[link.routerLink]" (click)="closeDrawer()">
          {{ link.label }}
        </a>
      }
    </div>
  </p-drawer>
}

<section class="px-3">
  <router-outlet />
</section>

<p-confirm-dialog />
